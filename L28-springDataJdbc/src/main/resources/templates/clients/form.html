<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${client.id == null} ? 'Create client' : 'Edit client'">Client</title>
    <link rel="stylesheet" th:href="@{/styles.css}"/>
</head>
<body>
<div class="container">
    <h1 th:text="${client.id == null} ? 'Create client' : 'Edit client'">Client</h1>

    <form th:action="${client.id == null} ? @{/clients} : @{/clients/{id}(id=${client.id})}" method="post">
        <label for="name">Name:<br/>
            <input type="text" id="name" name="name" th:value="${client.name}" required/>
        </label>
        <br/>

        <label for="street">Street:<br/>
            <input type="text" id="street" name="street" th:value="${street}"/>
        </label>
        <br/>

        <div id="phones">
            <label>Phones:</label><br/>
            <div th:each="p, idx : ${phones}">
                <label th:for="'phone' + ${idx.index}">Phone [[${idx.index}+1]]:</label>
                <input type="text"
                       th:id="'phone' + ${idx.index}"
                       name="phones"
                       th:value="${p}"
                       placeholder="+7 ..." />
            </div>
        </div>

        <button type="submit">Save</button>
        <a th:href="@{/clients}">Cancel</a>
    </form>
</div>
</body>
</html>
